var click;document.addEventListener("DOMContentLoaded",function(){$(window).load(function(){$("body").addClass("ready")});click=Helpers.detectTouchDevice();Helpers.customScroll();FeaturesGroups.init();PaybackCalculator.init()});window.addEventListener("resize",function(){Helpers.updateContentHeight()});window.addEventListener("orientationchange",function(){Helpers.updateContentHeight()});var Helpers={customScroll:function(){var n=window.innerHeight-$("header").innerHeight();$(".content-area-scroll").mCustomScrollbar({setHeight:n,scrollInertia:200,autoHideScrollbar:!1,contentTouchScroll:!0,scrollbarPosition:"outside",advanced:{updateOnContentResize:!0},mouseWheel:{normalizeDelta:!0,deltaFactor:100},theme:"minimal-dark"});$(".content-area-overflow").css("overflow","auto")},updateContentHeight:function(){$(".content-area-scroll").height(window.innerHeight-$("header").innerHeight())},detectTouchDevice:function(){return"ontouchend"in window||navigator.maxTouchPoints?"touchend":"click"}},FeaturesGroups={init:function(){var n=this;this.$features=$(".feature");this.$featureInputs=this.$features.find("input");this.$featureInputs.each(function(){this.checked&&$(".feature-parent[data-id="+$(this).data("id")+"]").addClass("active")});n.process();this.$featureInputs.on("click",function(){var t=this;n.toggle(t)})},toggle:function(n){var r=this,i=$(n).data("id"),t=$(".feature-parent[data-id="+i+"]");n.checked?t.addClass("active"):(t.removeClass("active"),t.parent().find("input").each(function(){if(this.checked){$(this).parent().click();var n=$(this).parent().data("id");$('.feature-parent[data-id="'+n+'"]').removeClass("active")}}));this.process()},process:function(){this.$features.each(function(){var r=$(this),n=r.find(".feature-parent"),u=n.closest(".feature"),f=0,t,i;for(u.addClass("depended"),t="",n.not(".active").find("span").each(function(){t=t+'<div class="tooltip-feature">- '+$(this).text()+"<\/div>"}),u.find(".tooltip").tooltip({items:"div",show:{duration:200},hide:{duration:200},content:"<div>This feature depends on:<\/div>"+t}),i=0;i<n.length;i++)n.eq(i).hasClass("active")&&f++,f==n.length?r.addClass("active"):r.removeClass("active")})}},PaybackCalculator={init:function(){$("#PaybackCalculator").length&&(this.toggleRows(),this.tooltip())},toggleRows:function(){var n=$(".table-row.semibold");n.on(Helpers.detectTouchDevice(),function(){$(this).closest(".table-row-group").find(".hidden-row").toggleClass("visible")})},tooltip:function(){$("#PaybackCalculator .tooltip").each(function(){var n=$(this).parent().find(".tooltip-text").text();$(this).tooltip({items:"div",show:{duration:200},hide:{duration:200},content:n})})}};